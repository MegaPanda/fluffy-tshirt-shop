(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,a){e.exports=a(40)},24:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(4),l=a.n(r),c=(a(24),a(1)),o=a(3),s=a(2),u={items:[],total_quantity:0,total_price:0};var m=[{index:0,photo:"gsd.jpg",title:"German Shepherd T-Shirt",price:19.99,sizes:{S:0,M:5,L:3}},{index:4,photo:"husky.jpg",title:"Husky T-Shirt",price:14.99,sizes:{S:2,M:5,L:3}},{index:2,photo:"golden.jpg",title:"Golden Retriever T-Shirt",price:19.99,sizes:{S:2,M:0,L:3}},{index:3,photo:"border.jpg",title:"Border Collie T-Shirt",price:9.99,sizes:{S:2,M:5,L:3}},{index:1,photo:"pug.jpg",title:"Pug T-Shirt",price:6.99,sizes:{S:2,M:5,L:0}}],p={PRICE:"PRICE_ALL",SIZE:"SIZE_ALL",SORT:"NEW"};var d=Object(o.b)({CartItemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,a=Object(s.a)(e.items),n=a.findIndex((function(e){return e.title===t.title})),i=!1;switch(t.type){case"ADD_ITEM":return-1!==n?(a[n].sizes.forEach((function(e){e.size===t.size&&(e.quantity++,i=!0)})),i||a[n].sizes.push({size:t.size,quantity:1}),i=!1,{items:Object(s.a)(a),total_quantity:e.total_quantity+1,total_price:Number((e.total_price+t.price).toFixed(2))}):{items:[].concat(Object(s.a)(e.items),[{title:t.title,photo:t.photo,price:t.price,sizes:[{size:t.size,quantity:1}]}]),total_quantity:e.total_quantity+1,total_price:Number((e.total_price+t.price).toFixed(2))};case"REMOVE_ITEM":var r=a[n].sizes.reduce((function(e,t){return e+t.quantity}),0);return{items:a.filter((function(e){return e.title!==t.title})),total_quantity:e.total_quantity-r,total_price:Number((e.total_price-t.price*r).toFixed(2))};default:return e}},DisplayProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:m,filters:p},t=arguments.length>1?arguments[1]:void 0;switch(t.category){case"PRICE":p.PRICE=t.type;break;case"SIZE":p.SIZE=t.type;break;case"SORT":p.SORT=t.type}var a=m;function n(e){switch(e){case"PRICE_ALL":break;case"UNDER_10":a=a.filter((function(e){return e.price<10}));break;case"SIZE_ALL":break;case"S":a=a.filter((function(e){return e.sizes.S>0}));break;case"M":a=a.filter((function(e){return e.sizes.M>0}));break;case"L":a=a.filter((function(e){return e.sizes.L>0}));break;case"NEW":a=Object(s.a)(a).sort((function(e,t){return e.index-t.index}));break;case"LOW_TO_HIGH":a=Object(s.a)(a).sort((function(e,t){return e.price-t.price}));break;case"HIGH_TO_LOW":a=Object(s.a)(a).sort((function(e,t){return t.price-e.price}))}}return Object.values(p).forEach((function(e){return n(e)})),{products:a,filters:e.filters}}}),E=Object(o.c)(d);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);var f=a(6),_=a(13),v=a.n(_);v.a.setAppElement("#root");var h=Object(c.b)((function(e){return{products:e.DisplayProductsReducer.products}}),(function(e){return{addNewItem:function(t,a){return e(function(e,t){return{type:"ADD_ITEM",title:null===e||void 0===e?void 0:e.title,photo:null===e||void 0===e?void 0:e.photo,price:null===e||void 0===e?void 0:e.price,size:t}}(t,a))}}}))((function(e){var t=Object(n.useState)(null),a=Object(f.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(null),o=Object(f.a)(c,2),s=o[0],u=o[1];return i.a.createElement("div",{id:"items"},e.products.map((function(e,t){return i.a.createElement("button",{key:t,className:"modalClick",onClick:function(){return l(e)}},i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"item__photo"},i.a.createElement("img",{style:{maxWidth:"200px"},src:e.photo,alt:e.title}),i.a.createElement("h3",{className:"item__title"},e.title)),i.a.createElement("div",null,i.a.createElement("h3",{className:"item__price"},"$",e.price),i.a.createElement("div",{style:{paddingTop:"10px"}},Object.entries(e.sizes).map((function(e,t){return 0===e[1]?i.a.createElement("span",{className:"item__available-sizes",style:{color:"#bfbfbf"},key:t},e[0]):i.a.createElement("span",{className:"item__available-sizes",key:t},e[0])}))))))})),r&&i.a.createElement(v.a,{isOpen:!0,onRequestClose:function(){return l(null)},className:"modal__content"},i.a.createElement("button",{className:"modal__close",onClick:function(){return l(null)}},"\xd7"),i.a.createElement("div",{className:"modal__display"},i.a.createElement("div",null,i.a.createElement("img",{className:"modal__photo",src:r.photo,alt:r.title})),i.a.createElement("div",{className:"modal__info"},i.a.createElement("h2",null,r.title),i.a.createElement("h1",{className:"modal__price"},"$",r.price),i.a.createElement("div",null,i.a.createElement("h4",{style:{margin:"10px 0"}},"SIZE:"),i.a.createElement("select",{className:"modal__choose-size",onChange:function(e){return u(e.target.value)}},i.a.createElement("option",null,"Please select"),Object.entries(r.sizes).map((function(e,t){return 0===e[1]?i.a.createElement("option",{disabled:!0,key:t,value:e[0]},e[0]," - Out of stock"):i.a.createElement("option",{key:t,value:e[0]},e[0])}))),i.a.createElement("button",{className:"modal__add-to-cart",onClick:function(){e.addNewItem(r,s),l(null)}},"ADD TO CART ")))),i.a.createElement("div",{className:"modal_description"})))})),b=Object(c.b)((function(e){return{items:e.CartItemReducer.items,total_quantity:e.CartItemReducer.total_quantity,total_price:e.CartItemReducer.total_price}}),(function(e){return{removeCartItem:function(t){e(function(e){return{type:"REMOVE_ITEM",title:e.title,photo:e.photo,price:e.price}}(t))}}}))((function(e){var t,a=Object(n.useRef)(null),r=Object(n.useState)({}),l=Object(f.a)(r,2),c=l[0],o=l[1],s=function(e){var t;(null===(t=a.current)||void 0===t?void 0:t.contains(e.target))||o({display:"none"})};return Object(n.useEffect)((function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}})),i.a.createElement("div",null,i.a.createElement("button",{id:"shopping-cart-button",onClick:function(){return o({display:"unset"})}},i.a.createElement("span",{id:"shopping-cart-icon",className:"material-icons"},"shopping_cart"),i.a.createElement("span",{id:"shopping-cart-quantity"},e.total_quantity)),i.a.createElement("div",{id:"cart",ref:a,style:c},i.a.createElement("h4",{className:"cart__info"},"You have ",e.total_quantity," item(s) in the cart."),i.a.createElement("ul",null,null===(t=e.items)||void 0===t?void 0:t.map((function(t,a){return i.a.createElement("li",{key:a},i.a.createElement("p",null,t.title),i.a.createElement("div",{className:"cart-item"},i.a.createElement("img",{className:"cart-item__photo",src:t.photo,alt:t.title}),i.a.createElement("div",{className:"cart-item__quantity"},i.a.createElement("span",{style:{fontSize:"14px"}},"Size:"),i.a.createElement("ul",{style:{fontSize:"13px"}},t.sizes.map((function(e,t){return i.a.createElement("li",{key:t},e.size," x ",e.quantity)})))),i.a.createElement("button",{className:"cart-item__remove material-icons",onClick:function(){return e.removeCartItem(t)}},"delete_outline")))}))),i.a.createElement("h4",{className:"cart__info"},"Total price: ",e.total_price)))})),y=function(){return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h1",{id:"header__title"},i.a.createElement("span",{id:"paw-icon",className:"material-icons"},"pets"),"Fluffy T-Shirt Shop")))},O=Object(c.b)(null,(function(e){return{displayProducts:function(t,a){e(function(e,t){return{category:e,type:t}}(t,a.currentTarget.value))}}}))((function(e){return i.a.createElement("div",{id:"display"},i.a.createElement("div",{id:"filter-sort"},i.a.createElement("label",null,"Sort:\xa0\xa0",i.a.createElement("select",{className:"filter__options",onChange:function(t){return e.displayProducts("SORT",t)}},i.a.createElement("option",{value:"NEW"},"What's new"),i.a.createElement("option",{value:"HIGH_TO_LOW"},"Price high to low"),i.a.createElement("option",{value:"LOW_TO_HIGH"},"Price low to high")))),i.a.createElement("div",{id:"filter-price"},i.a.createElement("label",null,"Price:\xa0\xa0",i.a.createElement("select",{className:"filter__options",onChange:function(t){return e.displayProducts("PRICE",t)}},i.a.createElement("option",{value:"PRICE_ALL"},"All"),i.a.createElement("option",{value:"UNDER_10"},"Under $10")))),i.a.createElement("div",{id:"filter-size"},i.a.createElement("label",null,"Size:\xa0\xa0",i.a.createElement("select",{className:"filter__options",onChange:function(t){return e.displayProducts("SIZE",t)}},i.a.createElement("option",{value:"SIZE_ALL"},"All"),i.a.createElement("option",{value:"S"},"S"),i.a.createElement("option",{value:"M"},"M"),i.a.createElement("option",{value:"L"},"L")))))}));function g(){return i.a.createElement("div",null,i.a.createElement(y,null),i.a.createElement("div",{id:"content"},i.a.createElement("div",{id:"products"},i.a.createElement(O,null),i.a.createElement(h,null)),i.a.createElement("div",{id:"sidebar"},i.a.createElement(b,null))))}l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(c.a,{store:E},i.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.bfb6dfe0.chunk.js.map